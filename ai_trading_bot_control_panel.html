<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rhs AI Trading Bot - Control Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #00ff00;
            padding: 20px;
            line-height: 1.6;
        }

        .window {
            max-width: 1400px;
            margin: 0 auto;
            border: 2px solid #333;
            background: #1a1a1a;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }

        .title-bar {
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            border-bottom: 2px solid #333;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title-bar h1 {
            font-size: 16px;
            color: #00ff00;
            font-weight: normal;
        }

        .window-controls {
            display: flex;
            gap: 10px;
            color: #666;
            font-size: 18px;
        }

        .tabs-bar {
            background: #0f0f0f;
            border-bottom: 2px solid #333;
            padding: 0;
            display: flex;
            overflow-x: auto;
        }

        .tab {
            padding: 12px 24px;
            background: #1a1a1a;
            border-right: 1px solid #333;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            color: #00ff00;
            border-bottom: 2px solid transparent;
        }

        .tab:hover {
            background: #252525;
        }

        .tab.active {
            background: #0a0a0a;
            border-bottom: 2px solid #00ff00;
            color: #00ff00;
            font-weight: bold;
        }

        .content-area {
            padding: 30px;
            min-height: 700px;
            background: #0a0a0a;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section-box {
            border: 1px solid #333;
            padding: 20px;
            margin-bottom: 20px;
            background: #0f0f0f;
        }

        .section-title {
            color: #00ff00;
            font-size: 14px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
            font-weight: bold;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .strategy-list-item {
            border: 1px solid #333;
            padding: 15px;
            margin-bottom: 10px;
            background: #1a1a1a;
            cursor: pointer;
            transition: all 0.2s;
        }

        .strategy-list-item:hover {
            border-color: #00ff00;
            background: #252525;
        }

        .strategy-list-item.active {
            border-color: #00ff00;
            background: #0f2f0f;
        }

        .strategy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .strategy-name {
            color: #00ff00;
            font-weight: bold;
        }

        .strategy-meta {
            color: #666;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .strategy-status {
            margin-bottom: 5px;
        }

        .status-ok { color: #00ff00; }
        .status-warning { color: #ffaa00; }
        .status-error { color: #ff0000; }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 6px 12px;
            border: 1px solid #333;
            background: #1a1a1a;
            color: #00ff00;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            transition: all 0.2s;
            font-size: 12px;
        }

        .btn:hover {
            background: #00ff00;
            color: #000;
        }

        .btn-primary {
            border-color: #00ff00;
        }

        .btn-danger {
            border-color: #ff0000;
            color: #ff0000;
        }

        .btn-danger:hover {
            background: #ff0000;
            color: #fff;
        }

        .btn-large {
            padding: 15px 40px;
            font-size: 14px;
            font-weight: bold;
        }

        .editor-container {
            background: #0f0f0f;
            border: 1px solid #333;
            padding: 0;
        }

        .editor-toolbar {
            background: #1a1a1a;
            padding: 10px;
            border-bottom: 1px solid #333;
        }

        .editor-input {
            width: 100%;
            padding: 10px;
            background: transparent;
            border: none;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .editor-input:focus {
            outline: none;
        }

        .pine-editor {
            width: 100%;
            min-height: 400px;
            background: #0f0f0f;
            border: none;
            padding: 15px;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            resize: vertical;
        }

        .pine-editor:focus {
            outline: 1px solid #00ff00;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            color: #00ff00;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 8px;
            background: #0f0f0f;
            border: 1px solid #333;
            color: #00ff00;
            font-family: 'Courier New', monospace;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #00ff00;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .checkbox-group input[type="checkbox"],
        .checkbox-group input[type="radio"] {
            width: 16px;
            height: 16px;
        }

        .validation-result {
            border: 1px solid #00ff00;
            padding: 15px;
            margin-top: 15px;
            background: #0f2f0f;
            display: none;
        }

        .validation-result.show {
            display: block;
        }

        .validation-item {
            margin-bottom: 5px;
        }

        .confirmation-panel {
            border: 2px solid #ffaa00;
            padding: 30px;
            margin: 20px 0;
            background: #1a1a00;
        }

        .confirmation-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #333;
        }

        .confirmation-row:last-child {
            border-bottom: none;
        }

        .confirmation-label {
            color: #666;
        }

        .confirmation-value {
            color: #00ff00;
            font-weight: bold;
        }

        .warning-box {
            border: 2px solid #ffaa00;
            padding: 20px;
            margin: 20px 0;
            background: #1a1a00;
            text-align: center;
        }

        .warning-text {
            color: #ffaa00;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .info-card {
            border: 1px solid #333;
            padding: 15px;
            background: #0f0f0f;
        }

        .info-label {
            color: #666;
            font-size: 11px;
            margin-bottom: 5px;
        }

        .info-value {
            color: #00ff00;
            font-size: 18px;
            font-weight: bold;
        }

        .log-container {
            background: #0f0f0f;
            border: 1px solid #333;
            padding: 15px;
            height: 400px;
            overflow-y: auto;
            font-size: 12px;
            line-height: 1.8;
        }

        .log-entry {
            margin-bottom: 2px;
        }

        .log-timestamp {
            color: #666;
        }

        .log-info { color: #00ff00; }
        .log-warning { color: #ffaa00; }
        .log-error { color: #ff0000; }
        .log-success { color: #00ffff; }

        .chart-placeholder {
            border: 1px solid #333;
            padding: 40px;
            text-align: center;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #0f0f0f;
        }

        .chart-placeholder-icon {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active { background: #00ff00; box-shadow: 0 0 10px #00ff00; }
        .status-inactive { background: #ff0000; box-shadow: 0 0 10px #ff0000; }
        .status-idle { background: #ffaa00; box-shadow: 0 0 10px #ffaa00; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #333;
        }

        th {
            background: #1a1a1a;
            color: #00ff00;
            font-weight: bold;
        }

        td {
            background: #0f0f0f;
        }

        .profit { color: #00ff00; }
        .loss { color: #ff0000; }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #1a1a1a;
            border: 1px solid #333;
            margin-top: 5px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: #00ff00;
            transition: width 0.3s;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 11px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="window">
        <div class="title-bar">
            <h1>ü§ñ rhs AI Trading Bot - Pine Script Automated Trading System</h1>
            <div class="window-controls">
                <span>‚îÄ</span>
                <span>‚ñ°</span>
                <span>‚úï</span>
            </div>
        </div>

        <div class="tabs-bar">
            <div class="tab active" data-tab="strategies">üìã PINE SCRIPT STRATEGIES</div>
            <div class="tab" data-tab="configuration">‚öôÔ∏è CONFIGURATION</div>
            <div class="tab" data-tab="dashboard">üìä DASHBOARD</div>
            <div class="tab" data-tab="chart">üìà CHART</div>
        </div>

        <div class="content-area">
            <!-- ========== TAB 1: PINE SCRIPT STRATEGIES ========== -->
            <div class="tab-content active" data-content="strategies">
                <div class="grid-2">
                    <div class="section-box">
                        <div class="section-title">üìÇ My Strategies (3)</div>
                        
                        <div class="strategy-list-item active">
                            <div class="strategy-header">
                                <span class="strategy-name">‚úì Strategy 1: rhs strategy</span>
                                <span class="status-ok">[ACTIVE]</span>
                            </div>
                            <div class="strategy-meta">Created: 2026-01-10 10:30</div>
                            <div class="strategy-status status-ok">Status: ‚úÖ Validated</div>
                            <div class="strategy-meta">Performance: +2.45% (12 trades)</div>
                            <div class="btn-group">
                                <button class="btn btn-primary">Edit</button>
                                <button class="btn btn-danger">Delete</button>
                                <button class="btn">Backtest</button>
                            </div>
                        </div>

                        <div class="strategy-list-item">
                            <div class="strategy-header">
                                <span class="strategy-name">‚óã Strategy 2: RSI Momentum</span>
                            </div>
                            <div class="strategy-meta">Created: 2026-01-09 14:20</div>
                            <div class="strategy-status status-ok">Status: ‚úÖ Validated</div>
                            <div class="strategy-meta">Performance: -0.80% (8 trades)</div>
                            <div class="btn-group">
                                <button class="btn btn-primary">Activate</button>
                                <button class="btn">Edit</button>
                                <button class="btn btn-danger">Delete</button>
                            </div>
                        </div>

                        <div class="strategy-list-item">
                            <div class="strategy-header">
                                <span class="strategy-name">‚óã Strategy 3: Bollinger Breakout</span>
                            </div>
                            <div class="strategy-meta">Created: 2026-01-08 09:15</div>
                            <div class="strategy-status status-warning">Status: ‚ö†Ô∏è Needs Review</div>
                            <div class="strategy-meta">Performance: N/A</div>
                            <div class="btn-group">
                                <button class="btn btn-primary">Activate</button>
                                <button class="btn">Edit</button>
                                <button class="btn btn-danger">Delete</button>
                            </div>
                        </div>

                        <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">‚ûï Create New Strategy</button>
                    </div>

                    <div class="section-box">
                        <div class="section-title">üìù Pine Script Editor</div>
                        
                        <div class="editor-container">
                            <div class="editor-toolbar">
                                <input type="text" class="editor-input" placeholder="Strategy Name" value="rhs Strategy">
                            </div>
                            <textarea class="pine-editor" id="pineCode">//@version=5
strategy("rhs strategy", overlay=true)

// Input parameters
fastLength = input(20, "Fast")
slowLength = input(50, "Slow")

// Calculate EMAs
fastEMA = ta.ema(close, fastLength)
slowEMA = ta.ema(close, slowLength)

// Entry conditions
longCondition = ta.crossover(fastEMA, slowEMA)
shortCondition = ta.crossunder(fastEMA, slowEMA)

// Strategy entries
if (longCondition)
    strategy.entry("Long", strategy.long)
    
if (shortCondition)
    strategy.entry("Short", strategy.short)

// Plot indicators
plot(fastEMA, "Fast", color.blue)
plot(slowEMA, "Slow", color.red)

// Plot signals
plotshape(longCondition, style=shape.triangleup, 
    color=color.green)</textarea>
                        </div>

                        <div class="btn-group" style="margin-top: 15px;">
                            <button class="btn btn-primary" onclick="validateScript()">Validate</button>
                            <button class="btn btn-primary" onclick="saveScript()">Save</button>
                            <button class="btn">Clear</button>
                        </div>

                        <div class="validation-result" id="validationResult">
                            <div class="section-title">‚úÖ Validation Results</div>
                            <div class="validation-item status-ok">‚úÖ Syntax: Valid</div>
                            <div class="validation-item status-ok">‚úÖ Indicators: 2 found</div>
                            <div class="validation-item status-ok">‚úÖ Entry Logic: 2 conditions</div>
                            <div class="validation-item status-ok">‚úÖ Exit Logic: 1 condition</div>
                            <div class="validation-item status-ok">‚úÖ Visual: 4 components</div>
                            <div class="validation-item status-warning">‚ö†Ô∏è Warning: 50-bar warmup needed</div>
                            <div style="margin-top: 15px; color: #00ff00;">Strategy is ready to use! ‚úì</div>
                        </div>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">üìä Strategy Details - rhs strategy</div>
                    <div style="margin-top: 15px; line-height: 2;">
                        <div><strong>üìä Indicators Used:</strong></div>
                        <div style="margin-left: 20px;">‚Ä¢ EMA(20) - Fast moving average</div>
                        <div style="margin-left: 20px;">‚Ä¢ EMA(50) - Slow moving average</div>
                        
                        <div style="margin-top: 15px;"><strong>üéØ Entry Conditions (2):</strong></div>
                        <div style="margin-left: 20px;">1. Long: Fast EMA crosses above Slow EMA</div>
                        <div style="margin-left: 20px;">2. Short: Fast EMA crosses below Slow</div>
                        
                        <div style="margin-top: 15px;"><strong>üö™ Exit Conditions (1):</strong></div>
                        <div style="margin-left: 20px;">1. Opposite crossover signal</div>
                        
                        <div style="margin-top: 15px;"><strong>üìà Visual Components:</strong></div>
                        <div style="margin-left: 20px;">‚Ä¢ Blue line (Fast EMA)</div>
                        <div style="margin-left: 20px;">‚Ä¢ Red line (Slow EMA)</div>
                        <div style="margin-left: 20px;">‚Ä¢ Green triangle (Buy signal)</div>
                        <div style="margin-left: 20px;">‚Ä¢ Red triangle (Sell signal)</div>
                        
                        <div style="margin-top: 15px;"><strong>‚ö° Lookback Period:</strong> 50 bars</div>
                    </div>
                </div>
            </div>

            <!-- ========== TAB 2: CONFIGURATION ========== -->
            <div class="tab-content" data-content="configuration">
                <div class="warning-box">
                    <div class="warning-text">‚ö†Ô∏è REVIEW ALL SETTINGS BEFORE STARTING THE BOT</div>
                </div>

                <div class="grid-2">
                    <div class="section-box">
                        <div class="section-title">1Ô∏è‚É£ STRATEGY SELECTION</div>
                        <div class="form-group">
                            <label class="form-label">Active Strategy:</label>
                            <select class="form-select">
                                <option>Strategy 1: rhs strategy</option>
                                <option>Strategy 2: RSI Momentum</option>
                                <option>Strategy 3: Bollinger Breakout</option>
                            </select>
                        </div>
                        <div style="margin-top: 15px;">
                            <div>Status: <span class="status-ok">‚úÖ Validated & Ready</span></div>
                            <div>Indicators: EMA(20), EMA(50)</div>
                            <div>Entry Conditions: 2</div>
                            <div>Exit Conditions: 1</div>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 15px;">View Strategy Details</button>
                    </div>

                    <div class="section-box">
                        <div class="section-title">2Ô∏è‚É£ SYMBOL & TIMEFRAME</div>
                        <div class="form-group">
                            <label class="form-label">Trading Symbol:</label>
                            <select class="form-select">
                                <option>EURUSD</option>
                                <option>GBPUSD</option>
                                <option>USDJPY</option>
                                <option>AUDUSD</option>
                            </select>
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: #666;">
                            <div>Contract Size: 100,000</div>
                            <div>Pip Value: $10.00</div>
                            <div>Spread: 1.2 pips (avg)</div>
                        </div>
                        <div class="form-group" style="margin-top: 15px;">
                            <label class="form-label">Timeframe:</label>
                            <select class="form-select">
                                <option>M1 (1 minute)</option>
                                <option>M5 (5 minutes)</option>
                                <option selected>M15 (15 minutes)</option>
                                <option>M30 (30 minutes)</option>
                                <option>H1 (1 hour)</option>
                                <option>H4 (4 hours)</option>
                                <option>D1 (Daily)</option>
                            </select>
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: #666;">
                            Candles to Load: 500
                        </div>
                    </div>
                </div>

                <div class="grid-2" style="margin-top: 20px;">
                    <div class="section-box">
                        <div class="section-title">3Ô∏è‚É£ RISK MANAGEMENT</div>
                        
                        <div class="form-label">Position Sizing:</div>
                        <div class="checkbox-group">
                            <input type="radio" name="sizing" id="fixed">
                            <label for="fixed">Fixed Lot Size:</label>
                            <input type="number" class="form-input" value="0.10" style="width: 100px;">
                            <span>lots</span>
                        </div>
                        <div class="checkbox-group">
                            <input type="radio" name="sizing" id="percent" checked>
                            <label for="percent">% of Account:</label>
                            <input type="number" class="form-input" value="2.0" style="width: 100px;">
                            <span>% per trade</span>
                        </div>
                        <div class="checkbox-group">
                            <input type="radio" name="sizing" id="risk">
                            <label for="risk">Risk-Based:</label>
                            <input type="number" class="form-input" value="50" style="width: 100px;">
                            <span>$ max risk</span>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="form-label">Position Limits:</div>
                            <div class="form-group">
                                <label class="form-label">Max Concurrent Positions:</label>
                                <input type="number" class="form-input" value="1">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Max Daily Trades:</label>
                                <input type="number" class="form-input" value="10">
                            </div>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="form-label">Account Protection:</div>
                            <div class="form-group">
                                <label class="form-label">Daily Loss Limit ($):</label>
                                <input type="number" class="form-input" value="500.00">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Max Drawdown (%):</label>
                                <input type="number" class="form-input" value="10">
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="stopOnLimit" checked>
                                <label for="stopOnLimit">Stop Trading if Limit Hit</label>
                            </div>
                        </div>

                        <div style="margin-top: 20px;">
                            <div class="form-label">Order Settings:</div>
                            <div class="form-group">
                                <label class="form-label">Max Slippage (pips):</label>
                                <input type="number" class="form-input" value="10">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Order Timeout (seconds):</label>
                                <input type="number" class="form-input" value="30">
                            </div>
                        </div>
                    </div>

                    <div class="section-box">
                        <div class="section-title">4Ô∏è‚É£ MT5 CONNECTION</div>
                        
                        <div style="margin-bottom: 15px;">
                            <div class="form-label">Connection Status:</div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span class="status-indicator status-active"></span>
                                <span class="status-ok">üü¢ CONNECTED</span>
                            </div>
                        </div>

                        <div style="margin-top: 15px; line-height: 2;">
                            <div><span style="color: #666;">Account:</span> <span style="color: #00ff00;">12345678</span></div>
                            <div><span style="color: #666;">Server:</span> <span style="color: #00ff00;">MetaQuotes-Demo</span></div>
                            <div><span style="color: #666;">Mode:</span> <span style="color: #ffaa00;">üü° DEMO ACCOUNT</span></div>
                        </div>

                        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #333;">
                            <div class="form-label">Account Details:</div>
                            <div style="line-height: 2;">
                                <div>Balance: <span style="color: #00ff00;">$10,000.00</span></div>
                                <div>Equity: <span style="color: #00ff00;">$10,000.00</span></div>
                                <div>Margin Free: <span style="color: #00ff00;">$10,000.00</span></div>
                                <div>Leverage: <span style="color: #00ff00;">1:100</span></div>
                            </div>
                        </div>

                        <div class="btn-group" style="margin-top: 20px;">
                            <button class="btn">Reconnect</button>
                            <button class="btn">Test Connection</button>
                        </div>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">5Ô∏è‚É£ VISUALIZATION & MONITORING</div>
                    
                    <div class="grid-2">
                        <div>
                            <div class="form-label">Logging Level:</div>
                            <div class="checkbox-group">
                                <input type="radio" name="loglevel" checked>
                                <label>INFO</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="radio" name="loglevel">
                                <label>DEBUG</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="radio" name="loglevel">
                                <label>WARNING</label>
                            </div>
                            <div class="checkbox-group" style="margin-top: 15px;">
                                <input type="checkbox" checked>
                                <label>Performance Tracking - Enable trade statistics & metrics</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" checked>
                                <label>Email alerts</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" checked>
                                <label>Sound alerts</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="confirmation-panel" style="margin-top: 30px;">
                    <div class="section-title">üìã CONFIGURATION SUMMARY</div>
                    
                    <div class="confirmation-row">
                        <span class="confirmation-label">Strategy:</span>
                        <span class="confirmation-value">rhs strategy (Validated)</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">Symbol:</span>
                        <span class="confirmation-value">EURUSD @ M15</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">Position Size:</span>
                        <span class="confirmation-value">2% of account (~0.20 lots)</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">Risk Limits:</span>
                        <span class="confirmation-value">$500 daily loss, 10% max drawdown</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">MT5:</span>
                        <span class="confirmation-value">Connected (Demo Account)</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">Chart:</span>
                        <span class="confirmation-value">Enabled with full visualization</span>
                    </div>
                    <div class="confirmation-row">
                        <span class="confirmation-label">Monitoring:</span>
                        <span class="confirmation-value">Active (INFO level logging)</span>
                    </div>

                    <div class="warning-box" style="margin-top: 30px;">
                        <div class="warning-text">‚ö†Ô∏è WARNING: This bot will execute REAL trades on your MT5 account<br>(Currently: DEMO mode - Safe for testing)</div>
                        <div style="color: #00ff00; margin-bottom: 20px;">Are you ready to start automated trading?</div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-danger btn-large">‚ùå CANCEL</button>
                            <button class="btn btn-primary btn-large" onclick="startBot()">‚úÖ START TRADING BOT</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== TAB 3: DASHBOARD ========== -->
            <div class="tab-content" data-content="dashboard">
                <div class="section-box">
                    <div class="section-title">üü¢ BOT STATUS - RUNNING</div>
                    <div style="display: flex; gap: 10px; align-items: center; margin-top: 10px; flex-wrap: wrap;">
                        <span class="status-indicator status-active"></span>
                        <span>Status: <strong>SCANNING</strong></span>
                        <span style="margin-left: 20px;">Strategy: <strong>rhs strategy</strong></span>
                        <span style="margin-left: 20px;">Symbol: <strong>EURUSD M15</strong></span>
                        <span style="margin-left: 20px;">Runtime: <strong>2h 34m</strong></span>
                    </div>
                    <div class="btn-group" style="margin-top: 15px;">
                        <button class="btn">‚è∏Ô∏è PAUSE</button>
                        <button class="btn btn-danger">‚èπÔ∏è STOP</button>
                        <button class="btn btn-danger">üö® EMERGENCY CLOSE ALL</button>
                    </div>
                </div>

                <div class="info-grid" style="margin-top: 20px;">
                    <div class="info-card">
                        <div class="info-label">BALANCE</div>
                        <div class="info-value">$10,245.50</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">EQUITY</div>
                        <div class="info-value">$10,290.30</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">TODAY'S TRADES</div>
                        <div class="info-value">8</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">WIN RATE</div>
                        <div class="info-value">62.5%</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">TODAY'S P&L</div>
                        <div class="info-value profit">+$245.50</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">PROFIT FACTOR</div>
                        <div class="info-value">1.31</div>
                    </div>
                </div>

                <div class="grid-2" style="margin-top: 20px;">
                    <div class="section-box">
                        <div class="section-title">CURRENT MARKET</div>
                        <div style="line-height: 2;">
                            <div>Symbol: <span class="status-ok">EURUSD</span></div>
                            <div>Bid: <span class="status-ok">1.08952</span></div>
                            <div>Ask: <span class="status-ok">1.08965</span></div>
                            <div>Spread: <span>1.3 pips</span></div>
                            <div>Time: <span>14:35:22</span></div>
                            <div>Last Update: <span>1 sec ago</span></div>
                        </div>
                        <button class="btn btn-primary" style="margin-top: 15px;">Refresh Market Data</button>
                    </div>

                    <div class="section-box">
                        <div class="section-title">CURRENT INDICATORS</div>
                        <div style="line-height: 2;">
                            <div>EMA(20): <span class="status-ok">1.08925 ‚ÜóÔ∏è</span></div>
                            <div>EMA(50): <span class="status-ok">1.08890 ‚ÜóÔ∏è</span></div>
                            <div>Trend: <span class="status-ok">üü¢ BULLISH (Fast > Slow)</span></div>
                            <div style="margin-top: 15px; font-size: 11px; color: #666;">
                                <div>Last Calculation: 14:35:22 (candle close)</div>
                                <div>Next Candle: 14:45:00 (in 9m 38s)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">RISK STATUS</div>
                    <div class="grid-3">
                        <div>
                            <div class="info-label">Daily Loss</div>
                            <div>$58.30 / $500.00</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 11.7%;"></div>
                                <div class="progress-text">11.7%</div>
                            </div>
                            <div class="status-ok" style="margin-top: 5px;">‚úÖ SAFE</div>
                        </div>
                        <div>
                            <div class="info-label">Max Drawdown</div>
                            <div>2.3% / 10%</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 23%;"></div>
                                <div class="progress-text">23%</div>
                            </div>
                            <div class="status-ok" style="margin-top: 5px;">‚úÖ SAFE</div>
                        </div>
                        <div>
                            <div class="info-label">Open Positions</div>
                            <div>1 / 1 MAX</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%; background: #ffaa00;"></div>
                                <div class="progress-text">100%</div>
                            </div>
                            <div class="status-warning" style="margin-top: 5px;">‚ö†Ô∏è AT LIMIT</div>
                        </div>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">OPEN POSITIONS (1)</div>
                    
                    <div style="border: 1px solid #00ff00; padding: 15px; margin-top: 15px; background: #0f2f0f;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <strong>üü¢ LONG EURUSD</strong>
                            <span>Ticket: #123456789</span>
                        </div>
                        <div class="grid-2" style="gap: 10px;">
                            <div>
                                <div>Size: 0.20 lots</div>
                                <div>Entry: 1.08920</div>
                                <div>Current: 1.08952</div>
                                <div>Stop Loss: 1.08750</div>
                                <div>Take Profit: 1.09120</div>
                                <div>Duration: 12m 35s</div>
                            </div>
                            <div>
                                <div class="profit" style="font-size: 20px; font-weight: bold;">P&L: +$64.00</div>
                                <div>(3.2 pips profit)</div>
                                <div style="margin-top: 10px;">Strategy: rhs strategy</div>
                            </div>
                        </div>
                        <div class="btn-group" style="margin-top: 15px;">
                            <button class="btn">Modify SL/TP</button>
                            <button class="btn btn-danger">Close Position</button>
                        </div>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">LIVE ACTIVITY LOG</div>
                    <div class="log-container" id="logContainer">
                        <div class="log-entry log-info"><span class="log-timestamp">[2026-01-11 14:35:22]</span> SCAN: Monitoring EURUSD M15 | Candle close detected</div>
                        <div class="log-entry log-info"><span class="log-timestamp">[2026-01-11 14:35:22]</span> CALC: EMA(20) = 1.08925 | EMA(50) = 1.08890</div>
                        <div class="log-entry log-success"><span class="log-timestamp">[2026-01-11 14:35:22]</span> EVAL: Long condition active (Fast > Slow) ‚úì</div>
                        <div class="log-entry log-info"><span class="log-timestamp">[2026-01-11 14:35:22]</span> INFO: Position already open, waiting for exit signal</div>
                        <div class="log-entry log-info"><span class="log-timestamp">[2026-01-11 14:35:22]</span> CHART: Chart updated with latest candle</div>
                        <div class="log-entry log-success"><span class="log-timestamp">[2026-01-11 14:23:17]</span> SUCCESS: ‚úì Position opened | Ticket #123456789 | Entry: 1.08920</div>
                        <div class="log-entry log-info"><span class="log-timestamp">[2026-01-11 14:23:16]</span> EXEC: Sending BUY order to MT5...</div>
                        <div class="log-entry log-success"><span class="log-timestamp">[2026-01-11 14:23:16]</span> RISK: ‚úì Signal validated (all checks passed)</div>
                        <div class="log-entry log-success"><span class="log-timestamp">[2026-01-11 14:23:16]</span> SIGNAL: üü¢ BUY signal generated (rhs strategy detected)</div>
                    </div>
                    <div class="btn-group" style="margin-top: 15px;">
                        <button class="btn">Clear Log</button>
                        <button class="btn">Export Log</button>
                        <button class="btn">üîç Filter Log</button>
                    </div>
                </div>

                <div class="section-box" style="margin-top: 20px;">
                    <div class="section-title">TRADE HISTORY (Last 5)</div>
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Time</th>
                                <th>Type</th>
                                <th>Entry</th>
                                <th>Exit</th>
                                <th>Lots</th>
                                <th>P&L</th>
                                <th>Duration</th>
                                <th>Strategy</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>8</td>
                                <td>14:15:05</td>
                                <td>LONG</td>
                                <td>1.08875</td>
                                <td>1.08929</td>
                                <td>0.20</td>
                                <td class="profit">+$54.00</td>
                                <td>27m 18s</td>
                                <td>rhs strategy</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>13:42:30</td>
                                <td>SHORT</td>
                                <td>1.08950</td>
                                <td>1.08915</td>
                                <td>0.20</td>
                                <td class="profit">+$35.00</td>
                                <td>18m 45s</td>
                                <td>rhs strategy</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>13:15:18</td>
                                <td>LONG</td>
                                <td>1.08820</td>
                                <td>1.08780</td>
                                <td>0.20</td>
                                <td class="loss">-$40.00</td>
                                <td>12m 30s</td>
                                <td>rhs strategy</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>12:58:44</td>
                                <td>SHORT</td>
                                <td>1.08890</td>
                                <td>1.08845</td>
                                <td>0.20</td>
                                <td class="profit">+$45.00</td>
                                <td>22m 15s</td>
                                <td>rhs strategy</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>12:30:22</td>
                                <td>LONG</td>
                                <td>1.08755</td>
                                <td>1.08720</td>
                                <td>0.20</td>
                                <td class="loss">-$35.00</td>
                                <td>15m 08s</td>
                                <td>rhs strategy</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="btn-group" style="margin-top: 15px;">
                        <button class="btn">View All Trades</button>
                        <button class="btn">Export to CSV</button>
                        <button class="btn">Performance Analysis</button>
                    </div>
                </div>
            </div>

            <!-- ========== TAB 4: CHART ========== -->
            <div class="tab-content" data-content="chart">
                <div class="section-box">
                    <div class="section-title">üìà LIVE MARKET CHART - EURUSD M15</div>
                    <div class="btn-group">
                        <button class="btn">üîÑ Refresh</button>
                        <button class="btn">üì∏ Screenshot</button>
                        <button class="btn">‚öôÔ∏è Settings</button>
                        <span style="margin-left: auto; color: #666;">Timeframe: M15 | Last Update: 2s ago</span>
                    </div>
                </div>

                <div class="chart-placeholder">
                    <div class="chart-placeholder-icon">üìà</div>
                    <div style="color: #666; font-size: 14px;">
                        <div>Real-time candlestick chart will display here</div>
                        <div style="margin-top: 10px;">Showing: Price candles ‚Ä¢ EMA indicators ‚Ä¢ Entry/Exit signals</div>
                        <div style="margin-top: 20px; color: #00ff00;">
                            <div>Current Price: 1.08952</div>
                            <div>EMA(20): 1.08925 (Blue Line)</div>
                            <div>EMA(50): 1.08890 (Red Line)</div>
                        </div>
                    </div>
                </div>

                <div class="info-grid" style="margin-top: 20px;">
                    <div class="info-card">
                        <div class="info-label">CURRENT PRICE</div>
                        <div class="info-value">1.08952</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">FAST EMA (20)</div>
                        <div class="info-value">1.08925</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">SLOW EMA (50)</div>
                        <div class="info-value">1.08890</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">SIGNAL</div>
                        <div class="info-value status-ok">LONG</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Remove active class from all content
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const targetContent = document.querySelector(`[data-content="${targetTab}"]`);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
        });

        // Validate script
        function validateScript() {
            const validationResult = document.getElementById('validationResult');
            validationResult.classList.add('show');
            addLog('Pine Script validated successfully', 'success');
        }

        // Save script
        function saveScript() {
            addLog('Strategy saved successfully', 'success');
            alert('Strategy saved!');
        }

        // Start bot
        function startBot() {
            addLog('========================================', 'info');
            addLog('BOT STARTED', 'success');
            addLog('Active Strategy: rhs Strategy', 'info');
            addLog('Symbol: EURUSD', 'info');
            addLog('Timeframe: M15', 'info');
            addLog('MT5 connected successfully', 'success');
            addLog('Subscribing to market data...', 'info');
            addLog('Bot is now scanning for signals...', 'info');
            
            // Switch to dashboard tab
            const dashboardTab = document.querySelector('[data-tab="dashboard"]');
            if (dashboardTab) {
                dashboardTab.click();
            }
        }

        // Add log entry
        function addLog(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            if (!logContainer) return;
            
            const timestamp = new Date().toLocaleTimeString();
            const date = new Date().toISOString().split('T')[0];
            const logClass = 'log-' + type;
            
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry ' + logClass;
            logEntry.innerHTML = `<span class="log-timestamp">[${date} ${timestamp}]</span> ${message}`;
            
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
    </script>
</body>

                            