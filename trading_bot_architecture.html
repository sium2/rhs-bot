<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Trading Bot - System Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0e1a;
            color: #e0e0e0;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #00ff88;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #1a2332;
            padding-bottom: 10px;
        }

        .nav-tab {
            padding: 12px 24px;
            background: #1a2332;
            border: 1px solid #2a3a52;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: #888;
        }

        .nav-tab:hover {
            background: #2a3a52;
            color: #00ff88;
        }

        .nav-tab.active {
            background: #00ff88;
            color: #0a0e1a;
            border-color: #00ff88;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .architecture-diagram {
            background: #0f1621;
            border: 2px solid #2a3a52;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .layer {
            background: linear-gradient(135deg, #1a2332 0%, #0f1621 100%);
            border: 2px solid #2a3a52;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .layer-title {
            color: #00ff88;
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .layer-title::before {
            content: '‚ñ∂';
            color: #00ff88;
        }

        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .component {
            background: rgba(0, 255, 136, 0.05);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s;
        }

        .component:hover {
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
            transform: translateY(-2px);
        }

        .component-name {
            color: #00ff88;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.05rem;
        }

        .component-desc {
            color: #888;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .flow-diagram {
            background: #0f1621;
            border: 2px solid #2a3a52;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 255, 136, 0.05);
            border-left: 4px solid #00ff88;
            border-radius: 8px;
        }

        .flow-number {
            background: #00ff88;
            color: #0a0e1a;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .flow-content {
            flex: 1;
        }

        .flow-title {
            color: #00ff88;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .flow-desc {
            color: #888;
            font-size: 0.9rem;
        }

        .module-detail {
            background: #1a2332;
            border: 1px solid #2a3a52;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .module-header {
            color: #00ff88;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 2px solid rgba(0, 255, 136, 0.2);
            padding-bottom: 10px;
        }

        .module-section {
            margin-bottom: 15px;
        }

        .section-title {
            color: #00ccff;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .section-content {
            color: #aaa;
            line-height: 1.8;
            padding-left: 20px;
        }

        .section-content li {
            margin-bottom: 5px;
        }

        .data-flow-arrow {
            text-align: center;
            color: #00ff88;
            font-size: 2rem;
            margin: 10px 0;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .tech-item {
            background: linear-gradient(135deg, #1a2332 0%, #0f1621 100%);
            border: 1px solid #2a3a52;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .tech-name {
            color: #00ff88;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tech-purpose {
            color: #888;
            font-size: 0.85rem;
        }

        .code-block {
            background: #0a0e1a;
            border: 1px solid #2a3a52;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            color: #00ff88;
            overflow-x: auto;
            line-height: 1.6;
        }

        .highlight {
            color: #00ccff;
            font-weight: bold;
        }

        .warning {
            background: rgba(255, 170, 0, 0.1);
            border-left: 4px solid #ffaa00;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            color: #ffaa00;
        }

        .svg-diagram {
            width: 100%;
            height: auto;
            background: #0f1621;
            border: 2px solid #2a3a52;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .diagram-node {
            fill: #1a2332;
            stroke: #00ff88;
            stroke-width: 2;
        }

        .diagram-text {
            fill: #00ff88;
            font-family: 'Segoe UI', sans-serif;
            font-size: 14px;
            font-weight: bold;
        }

        .diagram-arrow {
            stroke: #00ff88;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .diagram-label {
            fill: #888;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ AI Trading Bot - System Architecture</h1>
        <p class="subtitle">Production-Grade Pine Script Trading System with MT5 Integration</p>

        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('overview')">üìä Overview</div>
            <div class="nav-tab" onclick="switchTab('architecture')">üèóÔ∏è Architecture Layers</div>
            <div class="nav-tab" onclick="switchTab('dataflow')">üîÑ Data Flow</div>
            <div class="nav-tab" onclick="switchTab('modules')">üì¶ Module Details</div>
            <div class="nav-tab" onclick="switchTab('techstack')">‚öôÔ∏è Tech Stack</div>
            <div class="nav-tab" onclick="switchTab('deployment')">üöÄ Deployment</div>
        </div>

        <!-- OVERVIEW TAB -->
        <div class="tab-content active" id="overview">
            <div class="architecture-diagram">
                <h2 style="color: #00ff88; margin-bottom: 20px;">System Architecture - High Level View</h2>
                
                <svg class="svg-diagram" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#00ff88" />
                        </marker>
                    </defs>
                    
                    <!-- USER INTERFACE LAYER -->
                    <rect x="50" y="50" width="1100" height="120" class="diagram-node" rx="10"/>
                    <text x="600" y="90" class="diagram-text" text-anchor="middle">USER INTERFACE LAYER</text>
                    <text x="150" y="120" class="diagram-label">Pine Script Editor</text>
                    <text x="350" y="120" class="diagram-label">Strategy Manager</text>
                    <text x="550" y="120" class="diagram-label">Configuration Panel</text>
                    <text x="750" y="120" class="diagram-label">Monitoring Dashboard</text>
                    <text x="950" y="120" class="diagram-label">Live Chart Viewer</text>
                    
                    <!-- MAIN CONTROLLER -->
                    <rect x="450" y="220" width="300" height="80" class="diagram-node" rx="10"/>
                    <text x="600" y="265" class="diagram-text" text-anchor="middle">main.py</text>
                    <text x="600" y="285" class="diagram-label" text-anchor="middle">Central Orchestrator</text>
                    
                    <!-- Arrows from UI to main.py -->
                    <path d="M 300 170 L 550 220" class="diagram-arrow"/>
                    <path d="M 900 170 L 650 220" class="diagram-arrow"/>
                    
                    <!-- CORE ENGINE LAYER -->
                    <rect x="50" y="350" width="350" height="180" class="diagram-node" rx="10"/>
                    <text x="225" y="380" class="diagram-text" text-anchor="middle">PINE SCRIPT ENGINE</text>
                    <text x="100" y="410" class="diagram-label">Parser</text>
                    <text x="100" y="435" class="diagram-label">Validator</text>
                    <text x="100" y="460" class="diagram-label">Interpreter</text>
                    <text x="100" y="485" class="diagram-label">Visual Mapper</text>
                    <text x="100" y="510" class="diagram-label">Indicator Engine</text>
                    
                    <rect x="450" y="350" width="300" height="180" class="diagram-node" rx="10"/>
                    <text x="600" y="380" class="diagram-text" text-anchor="middle">TRADING ENGINE</text>
                    <text x="500" y="410" class="diagram-label">Signal Generator</text>
                    <text x="500" y="435" class="diagram-label">Risk Manager</text>
                    <text x="500" y="460" class="diagram-label">Order Executor</text>
                    <text x="500" y="485" class="diagram-label">Position Manager</text>
                    <text x="500" y="510" class="diagram-label">Trade Logger</text>
                    
                    <rect x="800" y="350" width="350" height="180" class="diagram-node" rx="10"/>
                    <text x="975" y="380" class="diagram-text" text-anchor="middle">VISUALIZATION ENGINE</text>
                    <text x="850" y="410" class="diagram-label">Chart Renderer</text>
                    <text x="850" y="435" class="diagram-label">Indicator Overlay</text>
                    <text x="850" y="460" class="diagram-label">Signal Markers</text>
                    <text x="850" y="485" class="diagram-label">Real-time Updater</text>
                    <text x="850" y="510" class="diagram-label">Performance Metrics</text>
                    
                    <!-- Arrows from main.py to engines -->
                    <path d="M 550 300 L 225 350" class="diagram-arrow"/>
                    <path d="M 600 300 L 600 350" class="diagram-arrow"/>
                    <path d="M 650 300 L 975 350" class="diagram-arrow"/>
                    
                    <!-- DATA & BROKER LAYER -->
                    <rect x="50" y="580" width="350" height="120" class="diagram-node" rx="10"/>
                    <text x="225" y="620" class="diagram-text" text-anchor="middle">DATA MANAGER</text>
                    <text x="100" y="650" class="diagram-label">Market Data Feed</text>
                    <text x="100" y="675" class="diagram-label">Historical Data Cache</text>
                    
                    <rect x="450" y="580" width="300" height="120" class="diagram-node" rx="10"/>
                    <text x="600" y="620" class="diagram-text" text-anchor="middle">MT5 CONNECTOR</text>
                    <text x="500" y="650" class="diagram-label">Connection Manager</text>
                    <text x="500" y="675" class="diagram-label">Trade Execution API</text>
                    
                    <rect x="800" y="580" width="350" height="120" class="diagram-node" rx="10"/>
                    <text x="975" y="620" class="diagram-text" text-anchor="middle">STORAGE & LOGGING</text>
                    <text x="850" y="650" class="diagram-label">Strategy Repository</text>
                    <text x="850" y="675" class="diagram-label">Trade History DB</text>
                    
                    <!-- Arrows to data layer -->
                    <path d="M 225 530 L 225 580" class="diagram-arrow"/>
                    <path d="M 600 530 L 600 580" class="diagram-arrow"/>
                    <path d="M 975 530 L 975 580" class="diagram-arrow"/>
                    
                    <!-- MT5 BROKER -->
                    <rect x="450" y="750" width="300" height="40" class="diagram-node" rx="10"/>
                    <text x="600" y="775" class="diagram-text" text-anchor="middle">MetaTrader 5 Platform</text>
                    
                    <path d="M 600 700 L 600 750" class="diagram-arrow"/>
                </svg>
            </div>

            <div class="warning">
                <strong>‚ö†Ô∏è Key Architectural Principles:</strong><br>
                ‚Ä¢ main.py is the single entry point and orchestrator<br>
                ‚Ä¢ All modules are loosely coupled and independently testable<br>
                ‚Ä¢ Pine Script interpretation happens at runtime, no hardcoded strategies<br>
                ‚Ä¢ Real-time visualization is decoupled from trading logic<br>
                ‚Ä¢ Multi-threaded design for concurrent operations
            </div>
        </div>

        <!-- ARCHITECTURE LAYERS TAB -->
        <div class="tab-content" id="architecture">
            <div class="layer">
                <div class="layer-title">Layer 1: User Interface (UI)</div>
                <div class="components-grid">
                    <div class="component">
                        <div class="component-name">üìù Pine Script Editor</div>
                        <div class="component-desc">
                            Web-based code editor for pasting and editing Pine Script strategies. 
                            Syntax highlighting, validation feedback, and save functionality.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìö Strategy Manager</div>
                        <div class="component-desc">
                            Display all saved strategies with metadata (name, creation date, performance). 
                            Activate, deactivate, edit, or delete strategies.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">‚öôÔ∏è Configuration Panel</div>
                        <div class="component-desc">
                            Pre-start configuration: symbol selection, timeframe, risk parameters, 
                            MT5 credentials, position sizing, and execution mode.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìä Monitoring Dashboard</div>
                        <div class="component-desc">
                            Real-time display of bot status, active positions, trade history, 
                            P&L, and system logs. Emergency stop controls.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìà Live Chart Viewer</div>
                        <div class="component-desc">
                            Real-time candlestick chart with indicators, entry/exit markers, 
                            and visual components from active Pine Script.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">‚úÖ Pre-Start Confirmation</div>
                        <div class="component-desc">
                            Summary of all settings before bot activation. Shows active strategy, 
                            symbol, risk limits, and connection status.
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-title">Layer 2: Central Controller (main.py)</div>
                <div class="components-grid">
                    <div class="component">
                        <div class="component-name">üéÆ Application Orchestrator</div>
                        <div class="component-desc">
                            Single entry point that initializes all modules, manages lifecycle, 
                            coordinates between UI, engines, and data layers.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üîÑ Event Loop Manager</div>
                        <div class="component-desc">
                            Manages the main event loop, handles user actions (start/stop/switch), 
                            coordinates between threads for UI, trading, and visualization.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üö® Emergency Controller</div>
                        <div class="component-desc">
                            Implements kill switch, safe shutdown procedures, handles MT5 disconnections, 
                            and ensures graceful error recovery.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üì° State Manager</div>
                        <div class="component-desc">
                            Maintains global application state: active strategy, selected symbol, 
                            bot status (idle/running/stopped), and configuration.
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-title">Layer 3: Core Engines</div>
                <div class="components-grid">
                    <div class="component">
                        <div class="component-name">üå≤ Pine Script Parser</div>
                        <div class="component-desc">
                            Tokenizes and parses Pine Script code into AST (Abstract Syntax Tree). 
                            Identifies indicators, conditions, strategy calls, and visual components.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">‚úîÔ∏è Pine Script Validator</div>
                        <div class="component-desc">
                            Validates syntax, checks for unsupported features, verifies indicator parameters, 
                            and reports errors before execution.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">‚ö° Pine Script Interpreter</div>
                        <div class="component-desc">
                            Executes parsed Pine Script logic on incoming market data. Calculates indicators, 
                            evaluates conditions, generates signals in real-time.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìä Indicator Calculator</div>
                        <div class="component-desc">
                            Implements Pine Script indicators (SMA, EMA, RSI, MACD, Bollinger Bands, etc.). 
                            Uses NumPy/Pandas for efficient computation.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üéØ Signal Generator</div>
                        <div class="component-desc">
                            Evaluates strategy conditions and generates buy/sell signals. 
                            Tracks entry/exit logic from Pine Script strategy.entry/exit calls.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üõ°Ô∏è Risk Manager</div>
                        <div class="component-desc">
                            Enforces position sizing, stop-loss, take-profit, daily loss limits, 
                            max drawdown, and concurrent position constraints.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üì§ Order Executor</div>
                        <div class="component-desc">
                            Sends validated orders to MT5 via connector. Handles order types 
                            (market, limit, stop), prevents duplicate orders, tracks execution.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üíº Position Manager</div>
                        <div class="component-desc">
                            Tracks open positions, monitors P&L, manages position lifecycle, 
                            coordinates with MT5 for position updates.
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-title">Layer 4: Visualization Engine</div>
                <div class="components-grid">
                    <div class="component">
                        <div class="component-name">üìà Chart Renderer</div>
                        <div class="component-desc">
                            Renders real-time candlestick charts using Plotly/Matplotlib. 
                            Updates on each candle close with live price data.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìê Indicator Overlay</div>
                        <div class="component-desc">
                            Plots indicators from Pine Script on the chart (lines, histograms, areas). 
                            Maps Pine Script plot() calls to visual elements.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üé® Signal Marker</div>
                        <div class="component-desc">
                            Places entry/exit markers on chart based on strategy signals. 
                            Implements plotshape, plotchar from Pine Script.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üîÑ Real-Time Updater</div>
                        <div class="component-desc">
                            Continuously updates chart as new candles form. Non-blocking updates 
                            that don't interfere with trading logic execution.
                        </div>
                    </div>
                </div>
            </div>

            <div class="layer">
                <div class="layer-title">Layer 5: Data & Broker Integration</div>
                <div class="components-grid">
                    <div class="component">
                        <div class="component-name">üì° MT5 Connector</div>
                        <div class="component-desc">
                            Python interface to MetaTrader 5 using MetaTrader5 package. 
                            Handles connection, authentication, and API calls.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìä Market Data Feed</div>
                        <div class="component-desc">
                            Subscribes to live tick/candle data for selected symbol(s). 
                            Implements data buffering and synchronization.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üíæ Historical Data Cache</div>
                        <div class="component-desc">
                            Loads historical candles for indicator warmup period. 
                            Caches data to reduce MT5 API calls.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üóÑÔ∏è Strategy Repository</div>
                        <div class="component-desc">
                            Stores saved Pine Script strategies in JSON/SQLite. 
                            Manages strategy metadata and versioning.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìù Trade Logger</div>
                        <div class="component-desc">
                            Logs all trades, signals, errors to file/database. 
                            Provides audit trail for compliance and analysis.
                        </div>
                    </div>
                    <div class="component">
                        <div class="component-name">üìà Performance Tracker</div>
                        <div class="component-desc">
                            Calculates strategy performance metrics: win rate, profit factor, 
                            Sharpe ratio, max drawdown, total P&L.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DATA FLOW TAB -->
        <div class="tab-content" id="dataflow">
            <h2 style="color: #00ff88; margin-bottom: 20px;">Complete Data Flow Diagram</h2>
            
            <div class="flow-diagram">
                    <h3 style="color: #00ccff; margin-bottom: 20px;">1. Initialization and User Setup Phase</h3>
                
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">
                        <div class="flow-title">User Launches Application (main.py)</div>
                        <div class="flow-desc">
                            ‚Ä¢ Initializes UI framework (Flask/Dash/Streamlit)<br>
                            ‚Ä¢ Loads configuration from config.yaml<br>
                            ‚Ä¢ Initializes all core modules<br>
                            ‚Ä¢ Displays UI with Pine Script Editor, Strategy Manager
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">
                        <div class="flow-title">User Creates/Selects Pine Script Strategy</div>
                        <div class="flow-desc">
                            ‚Ä¢ User pastes Pine Script code into editor<br>
                            ‚Ä¢ Clicks "Validate" ‚Üí Pine Script Parser analyzes code<br>
                            ‚Ä¢ Validator checks syntax and reports errors/warnings<br>
                            ‚Ä¢ User saves strategy ‚Üí Stored in Strategy Repository
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">
                        <div class="flow-title">User Configures Trading Parameters</div>
                        <div class="flow-desc">
                            ‚Ä¢ Selects symbol (e.g., EURUSD) and timeframe (e.g., M15)<br>
                            ‚Ä¢ Sets risk parameters: position size, stop loss, max trades<br>
                            ‚Ä¢ Configures MT5 connection: account number, server<br>
                            ‚Ä¢ All settings stored in State Manager
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">4</div>
                    <div class="flow-content">
                        <div class="flow-title">Pre-Start Confirmation</div>
                        <div class="flow-desc">
                            ‚Ä¢ System displays confirmation panel with all settings<br>
                            ‚Ä¢ Shows: Active strategy, symbol, timeframe, risk limits, MT5 status<br>
                            ‚Ä¢ User reviews and clicks "START TRADING BOT"
                        </div>
                    </div>
                </div>
            </div>

            <div class="flow-diagram">

                <h3 style="color: #00ccff; margin-bottom: 20px;">2. Trading Execution Phase</h3>
                
                <div class="flow-step">
                    <div class="flow-number">5</div>
                    <div class="flow-content">
                        <div class="flow-title">Bot Starts & Connects to MT5</div>
                        <div class="flow-desc">
                            ‚Ä¢ MT5 Connector establishes connection to MetaTrader 5<br>
                            ‚Ä¢ Verifies account credentials and retrieves account info<br>
                            ‚Ä¢ Subscribes to market data feed for selected symbol<br>
                            ‚Ä¢ Loads historical candles for indicator warmup period
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">6</div>
                    <div class="flow-content">
                        <div class="flow-title">Pine Script Interpreter Initializes</div>
                        <div class="flow-desc">
                            ‚Ä¢ Loads active strategy from repository<br>
                            ‚Ä¢ Parses Pine Script into executable components<br>
                            ‚Ä¢ Initializes indicator calculators with historical data<br>
                            ‚Ä¢ Prepares visual mapping for chart rendering
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">7</div>
                    <div class="flow-content">
                        <div class="flow-title">Real-Time Market Data Loop Begins</div>
                        <div class="flow-desc">
                            ‚Ä¢ On each new candle: Market Data Feed ‚Üí Pine Script Interpreter<br>
                            ‚Ä¢ Interpreter calculates all indicators from Pine Script<br>
                            ‚Ä¢ Evaluates entry/exit conditions<br>
                            ‚Ä¢ Generates signals if conditions met
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">8</div>
                    <div class="flow-content">
                        <div class="flow-title">Signal Processing & Risk Check</div>
                        <div class="flow-desc">
                            ‚Ä¢ Signal Generator passes signal to Risk Manager<br>
                            ‚Ä¢ Risk Manager validates: position limits, daily loss, drawdown<br>
                            ‚Ä¢ If approved ‚Üí Signal sent to Order Executor<br>
                            ‚Ä¢ If rejected ‚Üí Log reason and wait for next signal
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">9</div>
                    <div class="flow-content">
                        <div class="flow-title">Order Execution</div>
                        <div class="flow-desc">
                            ‚Ä¢ Order Executor sends trade request to MT5 Connector<br>
                            ‚Ä¢ MT5 Connector executes order on MetaTrader 5<br>
                            ‚Ä¢ Receives order confirmation (ticket number, fill price)<br>
                            ‚Ä¢ Position Manager updates open positions list
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">10</div>
                    <div class="flow-content">
                        <div class="flow-title">Visualization Update</div>
                        <div class="flow-desc">
                            ‚Ä¢ Chart Renderer updates candlestick chart with new candle<br>
                            ‚Ä¢ Indicator Overlay plots indicator values from interpreter<br>
                            ‚Ä¢ Signal Marker adds entry/exit markers at signal points<br>
                            ‚Ä¢ Dashboard updates with current positions and P&L
                        </div>
                    </div>
                </div>

                <div class="flow-step">
                    <div class="flow-number">11</div>
                    <div class="flow-content">
                        <div class="flow-title">Continuous Monitoring Loop</div>
                        <div class="flow-desc">
                            ‚Ä¢ System continuously monitors open positions<br>
                            ‚Ä¢ Checks for exit signals from Pine Script strategy<br>
                            ‚Ä¢ Updates P&L in real-time<br>
                            ‚Ä¢ Logs all activities to Trade Logger
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODULES TAB -->
        <div class="tab-content" id="modules">
            <h2 style="color: #00ff88; margin-bottom: 20px;">Detailed Module Specifications</h2>

            <div class="module-detail">
                <div class="module-header">üìÑ main.py - Central Controller</div>
                <div class="module-section">
                    <div class="section-title">Responsibilities:</div>
                    <div class="section-content">
                        ‚Ä¢ Application entry point and lifecycle manager<br>
                        ‚Ä¢ Initializes all modules in correct order<br>
                        ‚Ä¢ Manages event loops for UI, trading, and visualization<br>
                        ‚Ä¢ Handles user commands (start, stop, switch strategy)<br>
                        ‚Ä¢ Implements emergency shutdown procedures
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">Key Functions:</div>
                    <div class="section-content">
                        ‚Ä¢ initialize_system() - Load config, init modules<br>
                        ‚Ä¢ start_bot() - Begin trading operations<br>
                        ‚Ä¢ stop_bot() - Graceful shutdown<br>
                        ‚Ä¢ switch_strategy() - Change active strategy safely<br>
                        ‚Ä¢ emergency_stop() - Immediate halt and position closure
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üå≤ pine_script_engine.py</div>
                <div class="module-section">
                    <div class="section-title">Components:</div>
                    <div class="section-content">
                        <strong>PineScriptParser:</strong><br>
                        ‚Ä¢ Tokenizes Pine Script code using regex/lexer<br>
                        ‚Ä¢ Builds AST for indicators, conditions, strategy calls<br>
                        ‚Ä¢ Extracts input parameters, plot configurations<br><br>
                        
                        <strong>PineScriptValidator:</strong><br>
                        ‚Ä¢ Checks syntax against Pine Script v5 spec<br>
                        ‚Ä¢ Validates indicator parameters and functions<br>
                        ‚Ä¢ Reports unsupported features with line numbers<br><br>
                        
                        <strong>PineScriptInterpreter:</strong><br>
                        ‚Ä¢ Executes parsed Pine Script on live data<br>
                        ‚Ä¢ Maintains indicator state across candles<br>
                        ‚Ä¢ Evaluates conditions and generates signals<br>
                        ‚Ä¢ Maps visual components to chart elements
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üìä indicator_library.py</div>
                <div class="module-section">
                    <div class="section-title">Supported Indicators:</div>
                    <div class="section-content">
                        ‚Ä¢ ta.sma() - Simple Moving Average<br>
                        ‚Ä¢ ta.ema() - Exponential Moving Average<br>
                        ‚Ä¢ ta.rsi() - Relative Strength Index<br>
                        ‚Ä¢ ta.macd() - Moving Average Convergence Divergence<br>
                        ‚Ä¢ ta.bb() - Bollinger Bands<br>
                        ‚Ä¢ ta.atr() - Average True Range<br>
                        ‚Ä¢ ta.stoch() - Stochastic Oscillator<br>
                        ‚Ä¢ ta.cci() - Commodity Channel Index<br>
                        ‚Ä¢ ta.adx() - Average Directional Index<br>
                        ‚Ä¢ ta.crossover() / ta.crossunder() - Crossover detection
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">Implementation:</div>
                    <div class="section-content">
                        ‚Ä¢ Uses pandas for efficient series operations<br>
                        ‚Ä¢ Uses ta-lib or pandas_ta for indicator calculations<br>
                        ‚Ä¢ Maintains rolling windows for lookback periods<br>
                        ‚Ä¢ Optimized for real-time streaming data
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üéØ trading_engine.py</div>
                <div class="module-section">
                    <div class="section-title">SignalGenerator:</div>
                    <div class="section-content">
                        ‚Ä¢ Receives indicator values from interpreter<br>
                        ‚Ä¢ Evaluates entry/exit conditions from Pine Script<br>
                        ‚Ä¢ Generates BUY/SELL/CLOSE signals with metadata<br>
                        ‚Ä¢ Prevents duplicate signals on same candle
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">RiskManager:</div>
                    <div class="section-content">
                        ‚Ä¢ Validates position size against account balance<br>
                        ‚Ä¢ Checks daily loss limit and max drawdown<br>
                        ‚Ä¢ Enforces max concurrent positions<br>
                        ‚Ä¢ Calculates stop-loss and take-profit levels<br>
                        ‚Ä¢ Can reject signals that violate risk rules
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">OrderExecutor:</div>
                    <div class="section-content">
                        ‚Ä¢ Formats orders for MT5 API specification<br>
                        ‚Ä¢ Sends orders via MT5 Connector<br>
                        ‚Ä¢ Handles order confirmations and errors<br>
                        ‚Ä¢ Implements retry logic for failed orders<br>
                        ‚Ä¢ Logs all order activity
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">PositionManager:</div>
                    <div class="section-content">
                        ‚Ä¢ Tracks all open positions in memory<br>
                        ‚Ä¢ Monitors P&L in real-time<br>
                        ‚Ä¢ Coordinates position closure with exit signals<br>
                        ‚Ä¢ Syncs with MT5 for position updates
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üìà visualization_engine.py</div>
                <div class="module-section">
                    <div class="section-title">ChartRenderer:</div>
                    <div class="section-content">
                        ‚Ä¢ Creates candlestick charts using Plotly/Matplotlib<br>
                        ‚Ä¢ Updates chart on each new candle (non-blocking)<br>
                        ‚Ä¢ Manages chart timeframe and zoom levels<br>
                        ‚Ä¢ Runs in separate thread to avoid blocking trading
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">IndicatorOverlay:</div>
                    <div class="section-content">
                        ‚Ä¢ Plots indicator lines/histograms from Pine Script<br>
                        ‚Ä¢ Maps plot() calls to chart traces<br>
                        ‚Ä¢ Handles multiple indicators with different scales<br>
                        ‚Ä¢ Applies colors and styles from Pine Script
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">SignalMarker:</div>
                    <div class="section-content">
                        ‚Ä¢ Places markers at entry/exit points<br>
                        ‚Ä¢ Implements plotshape, plotchar, plotarrow<br>
                        ‚Ä¢ Uses different shapes/colors for buy/sell<br>
                        ‚Ä¢ Displays signal labels and prices
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üîå mt5_connector.py</div>
                <div class="module-section">
                    <div class="section-title">Key Functions:</div>
                    <div class="section-content">
                        ‚Ä¢ connect() - Establish MT5 connection<br>
                        ‚Ä¢ get_account_info() - Retrieve balance, equity, margin<br>
                        ‚Ä¢ subscribe_symbol() - Subscribe to market data<br>
                        ‚Ä¢ get_historical_data() - Load past candles<br>
                        ‚Ä¢ get_live_ticks() - Stream real-time ticks<br>
                        ‚Ä¢ send_order() - Execute market/limit/stop orders<br>
                        ‚Ä¢ get_positions() - Retrieve open positions<br>
                        ‚Ä¢ close_position() - Close specific position<br>
                        ‚Ä¢ disconnect() - Clean disconnection
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">Error Handling:</div>
                    <div class="section-content">
                        ‚Ä¢ Implements connection retry with exponential backoff<br>
                        ‚Ä¢ Handles MT5 errors (insufficient margin, invalid symbol)<br>
                        ‚Ä¢ Queues orders during temporary disconnections<br>
                        ‚Ä¢ Logs all API interactions for debugging
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üíæ data_manager.py</div>
                <div class="module-section">
                    <div class="section-title">MarketDataFeed:</div>
                    <div class="section-content">
                        ‚Ä¢ Subscribes to live data from MT5<br>
                        ‚Ä¢ Converts ticks to candles (OHLCV)<br>
                        ‚Ä¢ Buffers data for indicator calculations<br>
                        ‚Ä¢ Emits candle_closed events for trading logic
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">HistoricalDataCache:</div>
                    <div class="section-content">
                        ‚Ä¢ Loads historical candles on startup<br>
                        ‚Ä¢ Caches data in pandas DataFrame<br>
                        ‚Ä¢ Provides warmup data for indicators<br>
                        ‚Ä¢ Reduces MT5 API calls
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üìù storage.py</div>
                <div class="module-section">
                    <div class="section-title">StrategyRepository:</div>
                    <div class="section-content">
                        ‚Ä¢ Saves/loads Pine Script strategies as JSON<br>
                        ‚Ä¢ Stores metadata (name, creation date, performance)<br>
                        ‚Ä¢ Implements versioning for strategy changes<br>
                        ‚Ä¢ Provides list/search/filter capabilities
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">TradeLogger:</div>
                    <div class="section-content">
                        ‚Ä¢ Logs all trades to SQLite/PostgreSQL database<br>
                        ‚Ä¢ Records: timestamp, symbol, type, entry, exit, P&L<br>
                        ‚Ä¢ Provides query interface for analysis<br>
                        ‚Ä¢ Exports to CSV for external analysis
                    </div>
                </div>
                <div class="module-section">
                    <div class="section-title">SystemLogger:</div>
                    <div class="section-content">
                        ‚Ä¢ Logs system events (start/stop, errors, warnings)<br>
                        ‚Ä¢ Uses Python logging module with rotating files<br>
                        ‚Ä¢ Configurable log levels (DEBUG, INFO, WARNING, ERROR)<br>
                        ‚Ä¢ Displays logs in monitoring dashboard
                    </div>
                </div>
            </div>
        </div>

        <!-- TECH STACK TAB -->
        <div class="tab-content" id="techstack">
            <h2 style="color: #00ff88; margin-bottom: 30px;">Technology Stack</h2>

            <div class="module-detail">
                <div class="module-header">Core Python Libraries</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">Python 3.10+</div>
                        <div class="tech-purpose">Primary language for entire system</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">MetaTrader5</div>
                        <div class="tech-purpose">Official MT5 Python API for broker connection</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">pandas</div>
                        <div class="tech-purpose">Time series data manipulation and OHLCV handling</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">numpy</div>
                        <div class="tech-purpose">Numerical computations for indicators</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">pandas_ta / ta-lib</div>
                        <div class="tech-purpose">Technical analysis indicator library</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">UI Framework Options</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">Streamlit</div>
                        <div class="tech-purpose">Rapid prototyping, simple deployment (Recommended)</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">Dash (Plotly)</div>
                        <div class="tech-purpose">Advanced interactive dashboards and charts</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">Flask + React</div>
                        <div class="tech-purpose">Full-featured web app with custom UI</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">PyQt5/PySide6</div>
                        <div class="tech-purpose">Desktop application with native UI</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Visualization & Charting</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">Plotly</div>
                        <div class="tech-purpose">Interactive candlestick charts with zoom/pan</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">Matplotlib</div>
                        <div class="tech-purpose">Static chart generation for reporting</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">mplfinance</div>
                        <div class="tech-purpose">Financial charting with candlestick support</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Data Storage</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">SQLite</div>
                        <div class="tech-purpose">Lightweight database for trades and strategies</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">PostgreSQL (Optional)</div>
                        <div class="tech-purpose">Production-grade database for scaling</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">JSON Files</div>
                        <div class="tech-purpose">Simple storage for Pine Script strategies</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">Redis (Optional)</div>
                        <div class="tech-purpose">Caching and real-time data pub/sub</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Pine Script Parsing</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">pyparsing</div>
                        <div class="tech-purpose">Parser construction for Pine Script grammar</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">lark</div>
                        <div class="tech-purpose">Alternative parser with EBNF grammar support</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">ast (Python stdlib)</div>
                        <div class="tech-purpose">Abstract syntax tree manipulation</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">regex</div>
                        <div class="tech-purpose">Pattern matching for token extraction</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Concurrency & Threading</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">threading</div>
                        <div class="tech-purpose">Separate threads for UI, trading, visualization</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">asyncio</div>
                        <div class="tech-purpose">Async I/O for non-blocking operations</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">queue</div>
                        <div class="tech-purpose">Thread-safe communication between modules</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Configuration & Logging</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">PyYAML</div>
                        <div class="tech-purpose">Configuration file management (config.yaml)</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">python-dotenv</div>
                        <div class="tech-purpose">Environment variable management</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">logging (stdlib)</div>
                        <div class="tech-purpose">Structured logging with rotating files</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">loguru</div>
                        <div class="tech-purpose">Enhanced logging with better formatting</div>
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">Testing & Quality</div>
                <div class="tech-stack">
                    <div class="tech-item">
                        <div class="tech-name">pytest</div>
                        <div class="tech-purpose">Unit and integration testing framework</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">unittest.mock</div>
                        <div class="tech-purpose">Mocking MT5 API for testing without broker</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">black</div>
                        <div class="tech-purpose">Code formatting for consistency</div>
                    </div>
                    <div class="tech-item">
                        <div class="tech-name">pylint / flake8</div>
                        <div class="tech-purpose">Code linting and quality checks</div>
                    </div>
                </div>
            </div>

            <div class="code-block">
<span class="highlight"># Example: requirements.txt</span>

MetaTrader5==5.0.45
pandas==2.1.0
numpy==1.25.2
pandas-ta==0.3.14b
plotly==5.17.0
streamlit==1.28.0
PyYAML==6.0.1
python-dotenv==1.0.0
loguru==0.7.2
pyparsing==3.1.1
pytest==7.4.2
            </div>
        </div>

        <!-- DEPLOYMENT TAB -->
        <div class="tab-content" id="deployment">
            <h2 style="color: #00ff88; margin-bottom: 30px;">Deployment Architecture & Project Structure</h2>

            <div class="module-detail">
                <div class="module-header">üìÅ Project Directory Structure</div>
                <pre class="code-block" style="white-space: pre; font-family: 'Courier New', monospace; line-height: 1.4;">
ai-trading-bot/
‚îÇ
‚îú‚îÄ‚îÄ main.py                          <span style="color: #888;"># Central orchestrator - application entry point</span>
‚îÇ
‚îú‚îÄ‚îÄ config.yaml                      <span style="color: #888;"># Configuration file (symbols, timeframes, risk)</span>
‚îÇ
‚îú‚îÄ‚îÄ .env                             <span style="color: #888;"># Environment variables (MT5 credentials)</span>
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt                 <span style="color: #888;"># Python dependencies</span>
‚îÇ
‚îú‚îÄ‚îÄ modules/                         <span style="color: #888;"># Core application modules</span>
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ pine_script/                 <span style="color: #888;"># Pine Script engine</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.py                <span style="color: #888;"># Pine Script parser</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validator.py             <span style="color: #888;"># Syntax validator</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interpreter.py           <span style="color: #888;"># Runtime interpreter</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ visual_mapper.py         <span style="color: #888;"># Map plots to chart elements</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ trading/                     <span style="color: #888;"># Trading engine</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ signal_generator.py      <span style="color: #888;"># Generate buy/sell signals</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ risk_manager.py          <span style="color: #888;"># Risk and position sizing</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order_executor.py        <span style="color: #888;"># Execute orders via MT5</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ position_manager.py      <span style="color: #888;"># Track open positions</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ indicators/                  <span style="color: #888;"># Technical indicators library</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ moving_averages.py       <span style="color: #888;"># SMA, EMA, WMA</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ oscillators.py           <span style="color: #888;"># RSI, Stochastic, CCI</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ volatility.py            <span style="color: #888;"># ATR, Bollinger Bands</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trend.py                 <span style="color: #888;"># MACD, ADX</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ visualization/               <span style="color: #888;"># Chart rendering engine</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chart_renderer.py        <span style="color: #888;"># Candlestick charts</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ indicator_overlay.py     <span style="color: #888;"># Plot indicators</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ signal_marker.py         <span style="color: #888;"># Mark entry/exit points</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                        <span style="color: #888;"># Data management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market_data_feed.py      <span style="color: #888;"># Live data stream</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ historical_cache.py      <span style="color: #888;"># Cache historical data</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mt5_connector.py         <span style="color: #888;"># MT5 API wrapper</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ storage/                     <span style="color: #888;"># Persistence layer</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ strategy_repository.py   <span style="color: #888;"># Save/load Pine Scripts</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trade_logger.py          <span style="color: #888;"># Log trades to database</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.py              <span style="color: #888;"># SQLite/PostgreSQL interface</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ ui/                          <span style="color: #888;"># User interface</span>
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ app.py                   <span style="color: #888;"># UI framework (Streamlit/Dash)</span>
‚îÇ       ‚îú‚îÄ‚îÄ components/              <span style="color: #888;"># UI components</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pine_editor.py       <span style="color: #888;"># Pine Script editor panel</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ strategy_manager.py  <span style="color: #888;"># Strategy list/controls</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ config_panel.py      <span style="color: #888;"># Configuration interface</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py         <span style="color: #888;"># Monitoring dashboard</span>
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ chart_viewer.py      <span style="color: #888;"># Live chart display</span>
‚îÇ       ‚îî‚îÄ‚îÄ styles/                  <span style="color: #888;"># CSS/styling</span>
‚îÇ
‚îú‚îÄ‚îÄ strategies/                      <span style="color: #888;"># Saved Pine Script strategies (JSON)</span>
‚îÇ   ‚îú‚îÄ‚îÄ strategy_1.json
‚îÇ   ‚îú‚îÄ‚îÄ strategy_2.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ logs/                            <span style="color: #888;"># Application logs</span>
‚îÇ   ‚îú‚îÄ‚îÄ system.log
‚îÇ   ‚îú‚îÄ‚îÄ trades.log
‚îÇ   ‚îî‚îÄ‚îÄ errors.log
‚îÇ
‚îú‚îÄ‚îÄ data/                            <span style="color: #888;"># Data storage</span>
‚îÇ   ‚îú‚îÄ‚îÄ trades.db                    <span style="color: #888;"># SQLite database</span>
‚îÇ   ‚îî‚îÄ‚îÄ cache/                       <span style="color: #888;"># Cached market data</span>
‚îÇ
‚îú‚îÄ‚îÄ tests/                           <span style="color: #888;"># Unit and integration tests</span>
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_pine_parser.py
‚îÇ   ‚îú‚îÄ‚îÄ test_indicators.py
‚îÇ   ‚îú‚îÄ‚îÄ test_trading_engine.py
‚îÇ   ‚îî‚îÄ‚îÄ test_mt5_connector.py
‚îÇ
‚îú‚îÄ‚îÄ docs/                            <span style="color: #888;"># Documentation</span>
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md
‚îÇ   ‚îú‚îÄ‚îÄ pine_script_support.md
‚îÇ   ‚îî‚îÄ‚îÄ api_reference.md
‚îÇ
‚îî‚îÄ‚îÄ README.md                        <span style="color: #888;"># Project documentation</span>
                </pre>
            </div>

            <div class="module-detail">
                <div class="module-header">üöÄ Deployment Options</div>
                
                <div class="module-section">
                    <div class="section-title">Option 1: Local Desktop Application</div>
                    <div class="section-content">
                        <strong>Best for:</strong> Personal use, direct MT5 access on same machine<br><br>
                        
                        <strong>Setup:</strong><br>
                        ‚Ä¢ Install Python 3.10+ and MetaTrader 5 on same Windows machine<br>
                        ‚Ä¢ Run bot locally: python main.py<br>
                        ‚Ä¢ Access UI via localhost (Streamlit: http://localhost:8501)<br><br>
                        
                        <strong>Pros:</strong><br>
                        ‚Ä¢ Simple setup, no server required<br>
                        ‚Ä¢ Direct MT5 connection with low latency<br>
                        ‚Ä¢ No hosting costs<br><br>
                        
                        <strong>Cons:</strong><br>
                        ‚Ä¢ Computer must stay on 24/7<br>
                        ‚Ä¢ No remote access<br>
                        ‚Ä¢ Single user only
                    </div>
                </div>

                <div class="module-section">
                    <div class="section-title">Option 2: Cloud VPS (Virtual Private Server)</div>
                    <div class="section-content">
                        <strong>Best for:</strong> 24/7 operation, remote access, production use<br><br>
                        
                        <strong>Setup:</strong><br>
                        ‚Ä¢ Rent Windows VPS (AWS EC2, DigitalOcean, Vultr)<br>
                        ‚Ä¢ Install MT5 and Python on VPS<br>
                        ‚Ä¢ Deploy bot as background service<br>
                        ‚Ä¢ Access via VPS IP or domain<br><br>
                        
                        <strong>Pros:</strong><br>
                        ‚Ä¢ 24/7 uptime without local computer<br>
                        ‚Ä¢ Access from anywhere<br>
                        ‚Ä¢ Scalable resources<br><br>
                        
                        <strong>Cons:</strong><br>
                        ‚Ä¢ Monthly VPS costs ($10-50/month)<br>
                        ‚Ä¢ Requires basic server management
                    </div>
                </div>

                <div class="module-section">
                    <div class="section-title">Option 3: Docker Container</div>
                    <div class="section-content">
                        <strong>Best for:</strong> Reproducible deployment, team environments<br><br>
                        
                        <strong>Setup:</strong><br>
                        ‚Ä¢ Create Dockerfile for bot + dependencies<br>
                        ‚Ä¢ Run MT5 in Wine (Linux) or Windows container<br>
                        ‚Ä¢ Deploy to cloud (AWS ECS, Google Cloud Run, Azure Container Instances)<br><br>
                        
                        <strong>Pros:</strong><br>
                        ‚Ä¢ Consistent environment across machines<br>
                        ‚Ä¢ Easy scaling and updates<br>
                        ‚Ä¢ Version control for infrastructure<br><br>
                        
                        <strong>Cons:</strong><br>
                        ‚Ä¢ More complex setup<br>
                        ‚Ä¢ MT5 in Wine can be tricky
                    </div>
                </div>
            </div>

            <div class="module-detail">
                <div class="module-header">üîß Installation & Setup Commands</div>
                <pre class="code-block" style="white-space: pre; font-family: 'Courier New', monospace; line-height: 1.8;">
<span class="highlight"># 1. Clone repository</span>
git clone https://github.com/yourusername/ai-trading-bot.git
cd ai-trading-bot

<span class="highlight"># 2. Create virtual environment</span>
python -m venv venv
source venv/bin/activate  <span style="color: #888;"># On Windows: venv\Scripts\activate</span>

<span class="highlight"># 3. Install dependencies</span>
pip install -r requirements.txt

<span class="highlight"># 4. Configure environment variables</span>
cp .env.example .env
<span style="color: #888;"># Edit .env with your MT5 credentials</span>

<span class="highlight"># 5. Initialize database</span>
python -c "from modules.storage.database import init_db; init_db()"

<span class="highlight"># 6. Run the application</span>
python main.py

<span class="highlight"># For Streamlit UI:</span>
streamlit run modules/ui/app.py
                </pre>
            </div>

            <div class="module-detail">
                <div class="module-header">‚öôÔ∏è Configuration File Example (config.yaml)</div>
                <pre class="code-block" style="white-space: pre; font-family: 'Courier New', monospace; line-height: 1.8;">
<span class="highlight"># Trading Configuration</span>
trading:
  default_symbol: "EURUSD"
  default_timeframe: "M15"
  execution_mode: "demo"  <span style="color: #888;"># demo or live</span>
  
  risk:
    max_position_size_percent: 2.0
    max_daily_trades: 10
    max_concurrent_positions: 1
    daily_loss_limit: 500.00
    max_drawdown_percent: 10.0
    
  orders:
    max_slippage_pips: 10
    order_timeout_seconds: 30

<span class="highlight"># MT5 Connection</span>
mt5:
  server: "MetaQuotes-Demo"
  timeout: 60
  retry_attempts: 3
  retry_delay: 5

<span class="highlight"># Visualization</span>
visualization:
  enabled: true
  update_interval_seconds: 1
  chart_history_candles: 100
  
<span class="highlight"># Logging</span>
logging:
  level: "INFO"  <span style="color: #888;"># DEBUG, INFO, WARNING, ERROR</span>
  file_path: "logs/system.log"
  max_file_size_mb: 10
  backup_count: 5
                </pre>
            </div>

            <div class="warning">
                <strong>üîê Security Best Practices:</strong><br>
                ‚Ä¢ Never commit .env file with credentials to Git<br>
                ‚Ä¢ Use environment variables for sensitive data<br>
                ‚Ä¢ Enable 2FA on MT5 account<br>
                ‚Ä¢ Run bot with limited account permissions<br>
                ‚Ä¢ Regularly backup strategy files and trade logs<br>
                ‚Ä¢ Test thoroughly on demo account before live trading
            </div>
        </div>

    </div>

    <script>
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all nav tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            const selectedContent = document.getElementById(tabName);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }

            // Add active class to clicked nav tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
                
